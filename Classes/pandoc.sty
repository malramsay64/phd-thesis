\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pandoc}

% Requirements for using pandoc as sourced
% from https://pandoc.org/MANUAL.html#creating-a-pdf
% Items commented out have issues with compatibility
\RequirePackage{amsfonts}
\RequirePackage{amsmath}
% \RequirePackage{lm}
\RequirePackage{unicode-math}
\RequirePackage{ifxetex}
\RequirePackage{ifluatex}
\RequirePackage{listings}
\RequirePackage{fancyvrb}
\RequirePackage{longtable}
\RequirePackage{booktabs}
\RequirePackage{graphicx}
\RequirePackage{grffile}
\RequirePackage{hyperref}
\RequirePackage{xcolor}
% \RequirePackage{ulem}
\RequirePackage{geometry}
\RequirePackage{setspace}
\RequirePackage{babel}
\RequirePackage{fontspec}
% Polyglossia is an alternative internationalisation library
% to babel
% \RequirePackage{polyglossia}
% Provides Support for CJK documents (chinese)
% \RequirePackage{xeCJK}
% Support for bi-directional text
% \RequirePackage{bidi}
\RequirePackage{upquote}
\RequirePackage{microtype}
% This has an issue with not being found
% \RequirePackage{burl}
\RequirePackage{csquotes}
\RequirePackage{bookmark}
\RequirePackage{footnote}

% Required by the crossref plugin
\RequirePackage{subfig}

%% Styling allowing just a width or height to be specified

% Ensure aspect ratio is kept when converting from markdown
\makeatletter
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% Defining an empty command to support lists in pandoc
\newcommand*{\tightlist}{}
